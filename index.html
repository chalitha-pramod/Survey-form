<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Customer Feedback Survey | Genex Talent</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
body {
  background: linear-gradient(135deg, #6f42c1, #6610f2);
  font-family: 'Poppins', sans-serif;
  color: #fff;
  min-height: 100vh;
}
.container {
  max-width: 900px;
  background: #fff;
  color: #000;
  border-radius: 20px;
  padding: 40px;
  margin-top: 30px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}
.rating-scale {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
  margin-top: 10px;
  margin-bottom: 10px;
}
.rating-box {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}
.rating-box:hover {
  transform: scale(1.2);
}
.rating-box.selected {
  box-shadow: 0 0 10px #000;
  transform: scale(1.2);
}
.emoji {
  font-size: 1.5rem;
}
.progress {
  height: 8px;
  margin-bottom: 20px;
}
.voice-btn {
  border: none;
  background: transparent;
  color: #6f42c1;
  font-size: 1.2rem;
  margin-left: 8px;
  cursor: pointer;
}
.checkmark {
  color: green;
  display: none;
  margin-left: 8px;
  font-size: 1.2rem;
}
.language-switch {
  position: absolute;
  top: 20px;
  right: 20px;
}
</style>
</head>
<body>

<div class="language-switch">
  <select id="language" class="form-select form-select-sm">
    <option value="en">English</option>
    <option value="si">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</option>
    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
  </select>
</div>

<div class="container">
  <h2 class="text-center mb-4">üìù Customer Experience Survey</h2>

  <div class="progress">
    <div id="progressBar" class="progress-bar bg-success" style="width:0%"></div>
  </div>

  <form id="surveyForm"></form>

  <button class="btn btn-success w-100 mt-4">Submit Feedback</button>
</div>

<script>
// ------------------------------------------
//  Rating Questions ‚Äì English (Default)
// ------------------------------------------
const ratingQuestions = [
  "How satisfied are you with our service?",
  "How friendly was our staff?",
  "How fast was the response time?",
  "How clean was our environment?",
  "How easy was it to find what you needed?",
  "How likely are you to recommend us?",
  "How well did we meet your expectations?",
  "How satisfied are you with our pricing?",
  "How likely are you to return?",
  "How informative was our website?",
  "How helpful was our support team?",
  "How was your overall experience?",
  "How efficient was our process?",
  "How reliable are our products?",
  "How innovative do you find us?",
  "How accessible was our location?",
  "How visually appealing are our materials?",
  "How professional was our team?",
  "How flexible were our options?",
  "How transparent was our communication?",
  "How confident are you in our brand?",
  "How comfortable was your visit?",
  "How respectful was our staff?",
  "How safe did you feel during your visit?",
  "How effective were our solutions?",
  "How organized were our operations?",
  "How easy was it to complete your transaction?",
  "How would you rate our after-sales support?",
  "How well did we handle your feedback?",
  "Overall, how satisfied are you?"
];

// ------------------------------------------
// Sinhala Rating Questions
// ------------------------------------------
const si_rating = [
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∂î‡∂∂ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑É‡∂≠‡∑î‚Äç‡∂ß‡∑î‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂ö‡∑è‡∂ª‡∑ä‡∂∫ ‡∂∏‡∂´‡∑ä‡∂©‡∂Ω‡∂∫‡∑ö ‡∑Ñ‡∑í‡∂≠‡∂ö‡∑è‡∂∏‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂†‡∑è‡∂ª ‡∑Ä‡∑ö‡∂ú‡∂∫ ‡∂î‡∂∂‡∂ß ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑É‡∂≠‡∑î‚Äç‡∂ß‡∑î ‡∂ö‡∑Ö‡∑è‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂¥‡∂ª‡∑í‡∑É‡∂ª‡∂∫‡∑ö ‡∂¥‡∑í‡∂ª‡∑í‡∑É‡∑í‡∂Ø‡∑î‡∂ö‡∂∏ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂î‡∂∂‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂Ø‡∑ö ‡∑É‡∑ú‡∂∫‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂¥‡∑Ñ‡∑É‡∑î ‡∑Ä‡∑í‡∂∫‡∂Ø?",
  "‡∂Ö‡∂¥‡∑í ‡∂î‡∂∂ ‡∑Ä‡∑ô‡∂±‡∑î‡∑Ä‡∑ô‡∂±‡∑ä ‡∂±‡∑í‡∂ª‡∑ä‡∂Ø‡∑ö‡∑Å ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂î‡∂∂ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑É‡∑ñ‡∂Ø‡∑è‡∂±‡∂∏‡∑ä‡∂Ø?",
  "‡∂Ö‡∂¥‡∑í ‡∂î‡∂∂‡∂ú‡∑ö ‡∂Ö‡∂¥‡∑ö‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂Ω‡∑ô‡∑É ‡∑É‡∂¥‡∑î‡∂ª‡∑è ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂∏‡∑í‡∂Ω‡∂Ø‡∑ì ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∑ö ‡∑Ä‡∂ß‡∑í‡∂±‡∑è‡∂ö‡∂∏ ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∂î‡∂∂ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑É‡∂≠‡∑î‚Äç‡∂ß‡∑î‡∂Ø?",
  "‡∂î‡∂∂ ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂Ö‡∂¥ ‡∑Ä‡∑ô‡∂≠ ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ì‡∂∏‡∂ß ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂â‡∂© ‡∂á‡∂≠‡∑ê‡∂∫‡∑í ‡∑Ñ‡∑í‡∂≠‡∂±‡∑Ä‡∑è‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑Ä‡∑ô‡∂∂‡∑ä ‡∂Ö‡∂©‡∑Ä‡∑í‡∂∫‡∑ö ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∑Ä‡∑è‡∑É‡∑í‡∂¥‡∂Ø‡∑í‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑É‡∑Ñ‡∑è‡∂∫ ‡∂ö‡∂´‡∑ä‡∂©‡∑è‡∂∫‡∂∏‡∑ö ‡∂ã‡∂¥‡∂ö‡∑è‡∂ª‡∂ö‡∂∑‡∑è‡∑Ä‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∂∏‡∑É‡∑ä‡∂≠ ‡∂Ö‡∂≠‡∑ä‡∂Ø‡∑ê‡∂ö‡∑ì‡∂∏ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂∫‡∑Ñ‡∂¥‡∂≠‡∑ä‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∑è ‡∂¥‡∂ß‡∑í‡∂¥‡∑è‡∂ß‡∑í‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂ö‡∑è‡∂ª‡∑ä‡∂∫‡∂ö‡∑ä‡∑Ç‡∂∏‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂±‡∑í‡∑Ç‡∑ä‡∂¥‡∑è‡∂Ø‡∂±‡∑Ä‡∂Ω ‡∑Ä‡∑í‡∑Å‡∑ä‡∑Ä‡∑è‡∑É‡∂±‡∑ì‡∂∫‡∂∑‡∑è‡∑Ä‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂±‡∑Ä‡∑ì‡∂±‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∂î‡∂∂‡∑ö ‡∂Ö‡∂Ø‡∑Ñ‡∑É ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ì‡∂∏‡∑ö ‡∂¥‡∑Ñ‡∑É‡∑î‡∂ö‡∂∏‡∑ä ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑É‡∑î‡∂Ω‡∂∑‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂Ø‡∑ò‡∑Å‡∑ä‚Äç‡∂∫ ‡∂ã‡∂¥‡∂ö‡∂ª‡∂´‡∑Ä‡∂Ω ‡∂Ü‡∂ö‡∂ª‡∑ä‚Äç‡∑Ç‡∂´‡∑ì‡∂∫‡∂∑‡∑è‡∑Ä‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑Ä‡∑ò‡∂≠‡∑ä‡∂≠‡∑ì‡∂∫‡∂∑‡∑è‡∑Ä‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑É‡∑ö‡∑Ä‡∑è ‡∑Ä‡∑í‡∂ö‡∂Ω‡∑ä‡∂¥ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂±‡∑í‡∂∫‡∑ù‡∑ä‡∂∫‡∑è‡∂ö‡∑è‡∂ª‡∑ì‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑É‡∂±‡∑ä‡∂±‡∑í‡∑Ä‡∑ö‡∂Ø‡∂±‡∂∫‡∑ö ‡∂¥‡∑ê‡∑Ñ‡∑ê‡∂Ø‡∑í‡∂Ω‡∑í‡∂∑‡∑è‡∑Ä‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑Ä‡∑ô‡∑Ö‡∂≥ ‡∂±‡∑è‡∂∏‡∂∫ ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∂î‡∂∂‡∂ß ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑Ä‡∑í‡∑Å‡∑ä‡∑Ä‡∑è‡∑É‡∂∫‡∂ö‡∑ä‡∂Ø?",
  "‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∂Ç‡∂†‡∑è‡∂ª‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑É‡∑î‡∑Ä‡∂¥‡∑Ñ‡∑É‡∑î ‡∑Ä‡∑í‡∂∫‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂ö‡∑è‡∂ª‡∑ä‡∂∫ ‡∂∏‡∂´‡∑ä‡∂©‡∂Ω‡∂∫‡∑ö ‡∂ú‡∑û‡∂ª‡∑Ä‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´‡∂Ø?",
  "‡∂î‡∂∂‡∑ö ‡∑É‡∂Ç‡∂†‡∑è‡∂ª‡∂∫‡∑ö‡∂Ø‡∑ì ‡∂î‡∂∂ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂Ü‡∂ª‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠‡∂∫‡∑í‡∂Ø?",
  "‡∂Ö‡∂¥ ‡∑Ä‡∑í‡∑É‡∑í‡∂±‡∑ä ‡∂Ω‡∂∂‡∑è‡∂Ø‡∑î‡∂±‡∑ä ‡∑Ä‡∑í‡∑É‡∂≥‡∑î‡∂∏‡∑ä ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂ö‡∑è‡∂ª‡∑ä‡∂∫‡∂ö‡∑ä‡∑Ç‡∂∏‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂∏‡∑ô‡∑Ñ‡∑ô‡∂∫‡∑î‡∂∏‡∑ä ‡∑É‡∂Ç‡∑Ä‡∑í‡∂∞‡∑è‡∂±‡∂∫ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂∫‡∑Ñ‡∂¥‡∂≠‡∑ä‡∂Ø?",
  "‡∂î‡∂∂‡∂ú‡∑ö ‡∂ú‡∂±‡∑î‡∂Ø‡∑ô‡∂±‡∑î‡∑Ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂¥‡∑Ñ‡∑É‡∑î ‡∑Ä‡∑í‡∂∫‡∂Ø?",
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂Ö‡∂Ω‡∑ô‡∑Ä‡∑í‡∂∫‡∑ô‡∂±‡∑ä ‡∂¥‡∑É‡∑î ‡∑É‡∑Ñ‡∑è‡∂∫ ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∂∫‡∑Ñ‡∂¥‡∂≠‡∑ä‡∂Ø?",
  "‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∑ù‡∑Ç‡∂´‡∂∫ ‡∂Ö‡∂¥ ‡∑Ä‡∑í‡∑É‡∑í‡∂±‡∑ä ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑Ñ‡∑ú‡∂≥‡∑í‡∂±‡∑ä ‡∂ö‡∑Ö‡∂∏‡∂±‡∑è‡∂ö‡∂ª‡∂´‡∂∫ ‡∂ö‡∑Ö‡∑è‡∂Ø?",
  "‡∑É‡∂∏‡∑É‡∑ä‡∂≠‡∂∫‡∑ô‡∂±‡∑ä, ‡∂î‡∂∂ ‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∂ö‡∑ú‡∂¥‡∂∏‡∂´ ‡∑É‡∂≠‡∑î‚Äç‡∂ß‡∑î‡∂Ø?"
];

// ------------------------------------------
// Tamil Rating Questions
// ------------------------------------------
const ta_rating = [
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡Øá‡Æµ‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ§‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ§‡Æø?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æ£‡Æø‡ÆØ‡Ææ‡Æ≥‡Æ∞‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æ®‡Æü‡Øç‡Æ™‡ØÅ ‡Æé‡Æ™‡Øç‡Æ™‡Æü‡Æø ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?",
  "‡Æ™‡Æ§‡Æø‡Æ≤‡Æ≥‡Æø‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Øá‡Æï‡ÆÆ‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ§‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ§‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡ØÇ‡Æ¥‡Æ≤‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æö‡ØÅ‡Æ§‡Øç‡Æ§‡ÆÆ‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?",
  "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ§‡Øá‡Æµ‡Øà‡ÆØ‡Ææ‡Æ©‡Æ§‡Øà ‡Æï‡Æ£‡Øç‡Æü‡ØÅ‡Æ™‡Æø‡Æü‡Æø‡Æï‡Øç‡Æï ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æé‡Æ≥‡Æø‡Æ§‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡Æ™‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æ∞‡Øà‡Æï‡Øç‡Æï ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æµ‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡ØÅ‡Æï‡Æø‡Æ±‡ØÄ‡Æ∞‡Øç‡Æï‡Æ≥‡Øç?",
  "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æ§‡Æø‡Æ∞‡Øç‡Æ™‡Ææ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øà ‡Æ®‡Ææ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ™‡ØÇ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æø ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡Øã‡ÆÆ‡Øç?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æø‡Æ≤‡Øà‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ§‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ§‡Æø?",
  "‡ÆÆ‡ØÄ‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æ∞‡ØÅ‡Æµ‡Æ§‡Æ±‡Øç‡Æï‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ÆÆ‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ£‡Øà‡ÆØ‡Æ§‡Æ≥‡ÆÆ‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ§‡Æï‡Æµ‡Æ≤‡Øç ‡Æï‡Øä‡Æ£‡Øç‡Æü‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æ§‡Æ∞‡Æµ‡ØÅ ‡Æï‡ØÅ‡Æ¥‡ØÅ ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æâ‡Æ§‡Æµ‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ?",
  "‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§‡ÆÆ‡Ææ‡Æï ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æ©‡ØÅ‡Æ™‡Æµ‡ÆÆ‡Øç ‡Æé‡Æ™‡Øç‡Æ™‡Æü‡Æø ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡ÆÆ‡ØÅ‡Æ±‡Øà ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ§‡Æø‡Æ±‡ÆÆ‡Øà‡ÆØ‡Ææ‡Æ©‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡ÆØ‡Ææ‡Æ∞‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ®‡ÆÆ‡Øç‡Æ™‡Æï‡ÆÆ‡Ææ‡Æ©‡Æµ‡Øà?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ØÅ‡Æ§‡ØÅ‡ÆÆ‡Øà ‡Æ®‡Æø‡Æ≤‡Øà ‡Æ™‡Æ±‡Øç‡Æ±‡Æø‡ÆØ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ ‡Æé‡Æ©‡Øç‡Æ©?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æü‡Æ§‡Øç‡Æ§‡Øà ‡ÆÖ‡Æ£‡ØÅ‡Æï ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æé‡Æ≥‡Æø‡Æ§‡Ææ‡Æ©‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æü‡Æø‡Æµ‡ÆÆ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ ‡Æ™‡Øä‡Æ∞‡ØÅ‡Æü‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æï‡Æµ‡Æ∞‡Øç‡Æö‡Øç‡Æö‡Æø‡ÆØ‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ©?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡Øä‡Æ¥‡Æø‡Æ≤‡Øç‡ÆÆ‡ØÅ‡Æ±‡Øà‡Æ§‡Øç ‡Æ§‡Æø‡Æ±‡Æ©‡Øç ‡Æé‡Æ™‡Øç‡Æ™‡Æü‡Æø ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡Øá‡Æµ‡Øà ‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ®‡ØÜ‡Æï‡Æø‡Æ¥‡Øç‡Æµ‡Ææ‡Æ©‡Æµ‡Øà?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æµ‡ØÜ‡Æ≥‡Æø‡Æ™‡Øç‡Æ™‡Æü‡Øà‡ÆØ‡Ææ‡Æ©‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æø‡Æ∞‡Ææ‡Æ£‡Øç‡Æü‡Æø‡Æ≤‡Øç ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ®‡ÆÆ‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Øà ‡Æµ‡Øà‡Æ§‡Øç‡Æ§‡ØÅ‡Æ≥‡Øç‡Æ≥‡ØÄ‡Æ∞‡Øç‡Æï‡Æ≥‡Øç?",
  "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æ∞‡ØÅ‡Æï‡Øà ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æµ‡Æö‡Æ§‡Æø‡ÆØ‡Ææ‡Æ©‡Æ§‡ØÅ?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æ£‡Æø‡ÆØ‡Ææ‡Æ≥‡Æ∞‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡ÆÆ‡Æ∞‡Æø‡ÆØ‡Ææ‡Æ§‡Øà ‡Æ®‡Æø‡Æ≤‡Øà ‡Æé‡Æ™‡Øç‡Æ™‡Æü‡Æø ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?",
  "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æ∞‡ØÅ‡Æï‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æ™‡Øç‡Æ™‡Ææ‡Æï ‡Æâ‡Æ£‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÄ‡Æ∞‡Øç‡Æï‡Æ≥‡Øç?",
  "‡Æ®‡Ææ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æ¥‡Æô‡Øç‡Æï‡Æø‡ÆØ ‡Æ§‡ØÄ‡Æ∞‡Øç‡Æµ‡ØÅ‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ™‡ÆØ‡Æ©‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æ§‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ©?",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡Æ™‡Ææ‡Æü‡ØÅ‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æí‡Æ¥‡ØÅ‡Æô‡Øç‡Æï‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ©?",
  "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æ∞‡Æø‡Æµ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æ©‡Øà‡ÆØ‡Øà ‡Æ®‡Æø‡Æ±‡Øà‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æé‡Æ≥‡Æø‡Æ§‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?",
  "‡Æµ‡Æø‡Æ±‡Øç‡Æ™‡Æ©‡Øà‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ©‡Øç ‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æ§‡Æ∞‡Æµ‡ØÅ ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æâ‡Æ§‡Æµ‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ?",
  "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡Øà ‡Æ®‡Ææ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ®‡Æ©‡Øç‡Æ±‡Ææ‡Æï ‡Æï‡Øà‡ÆØ‡Ææ‡Æ≥‡Øç‡Æ®‡Øç‡Æ§‡Øã‡ÆÆ‡Øç?",
  "‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç, ‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡Øá‡Æµ‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Æ≥‡Æµ‡ØÅ ‡Æ§‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ§‡Æø?"
];

// ------------------------------------------
// Text Questions ‚Äì English
// ------------------------------------------
const textQuestions = [
  "What did you like most about our service?",
  "What can we improve next time?",
  "Any suggestions or new features you‚Äôd like to see?",
  "How did you hear about us?",
  "Any final comments or feedback?"
];

// Sinhala Text Questions
const si_text = [
  "‡∂Ö‡∂¥‡∂ú‡∑ö ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä ‡∂ú‡∑ê‡∂± ‡∂î‡∂∂‡∂ß ‡∑Ä‡∂©‡∑è‡∂≠‡∑ä ‡∂ö‡∑ê‡∂∏‡∂≠‡∑í ‡∂Ø‡∑ö ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?",
  "‡∂Ö‡∂¥‡∑í ‡∂ä‡∑Ö‡∂ü ‡∑Ä‡∂ª‡∂∫‡∑ö ‡∑Ä‡∑ê‡∂©‡∑í‡∂Ø‡∑í‡∂∫‡∑î‡∂´‡∑î ‡∂ö‡∑Ö ‡∂∫‡∑î‡∂≠‡∑î ‡∂Ø‡∑ö ‡∂∏‡∑ú‡∂±‡∑Ä‡∑è‡∂Ø?",
  "‡∂±‡∑Ä ‡∂Ö‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∑Ñ‡∑ù ‡∑Ä‡∑í‡∑Å‡∑ö‡∑Ç‡∑è‡∂Ç‡∂ú ‡∂≠‡∑í‡∂∂‡∑ö ‡∂±‡∂∏‡∑ä ‡∂Ø‡∂±‡∑ä‡∑Ä‡∂±‡∑ä‡∂±.",
  "‡∂î‡∂∂ ‡∂Ö‡∂¥ ‡∂ú‡∑ê‡∂± ‡∂á‡∑É‡∑ì ‡∂≠‡∑í‡∂∂‡∑î‡∂´‡∑ö ‡∂ö‡∑ô‡∑É‡∑ö‡∂Ø?",
  "‡∂Ö‡∑Ä‡∑É‡∂±‡∑ä ‡∂Ö‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∑Ñ‡∑ù ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂¥‡∑ù‡∑Ç‡∂´‡∂∫‡∂ö‡∑ä ‡∂á‡∂≠‡∑ä‡∂±‡∂∏‡∑ä ‡∑É‡∂≥‡∑Ñ‡∂±‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±."
];

// Tamil Text Questions
const ta_text = [
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡Øá‡Æµ‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÆ‡Æø‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æø‡Æü‡Æø‡Æ§‡Øç‡Æ§‡Æ§‡ØÅ ‡Æé‡Æ©‡Øç‡Æ©?",
  "‡ÆÖ‡Æü‡ØÅ‡Æ§‡Øç‡Æ§ ‡ÆÆ‡ØÅ‡Æ±‡Øà ‡Æ®‡Ææ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æ§‡Øà ‡ÆÆ‡Øá‡ÆÆ‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§ ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç?",
  "‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡ÆÖ‡ÆÆ‡Øç‡Æö‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æ™‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æ∞‡Øà‡Æï‡Æ≥‡Øç ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Ææ‡Æ≤‡Øç ‡Æ§‡ØÜ‡Æ∞‡Æø‡Æµ‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.",
  "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øà‡Æ™‡Øç ‡Æ™‡Æ±‡Øç‡Æ±‡Æø ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æµ‡Øç‡Æµ‡Ææ‡Æ±‡ØÅ ‡ÆÖ‡Æ±‡Æø‡Æ®‡Øç‡Æ§‡ØÄ‡Æ∞‡Øç‡Æï‡Æ≥‡Øç?",
  "‡Æá‡Æ±‡ØÅ‡Æ§‡Æø ‡Æï‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æ™‡Æø‡Æ©‡Øç‡Æ©‡ØÇ‡Æü‡Øç‡Æü‡ÆÆ‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡Ææ?"
];

// ------------------------------------------
// Rating Color Boxes
// ------------------------------------------
const colors = [
  '#ff3b30','#ff5e3a','#ff9500','#ffcc00','#ffe400',
  '#cddc39','#8bc34a','#4caf50','#2e7d32','#1b5e20'
];

// ------------------------------------------
// Build the form
// ------------------------------------------
const form = document.getElementById('surveyForm');

// Build Rating Questions
ratingQuestions.forEach((q, i) => {
  const div = document.createElement('div');
  div.className = 'mb-4 question';
  div.setAttribute('data-type','rating');
  div.setAttribute('data-index', i);

  div.innerHTML = `
    <label class="form-label fw-semibold d-flex align-items-center">
      <span class="question-text flex-grow-1">${q}</span>
      <button type="button" class="voice-btn" onclick="speakQuestion(this)">
        <i class="fa-solid fa-volume-high"></i>
      </button>
      <i class="fa-solid fa-check checkmark"></i>
    </label>
    <div class="rating-scale">
      <span class="emoji">üò¢</span>
      ${colors.map((c, idx) => `<div class="rating-box" style="background-color:${c}" data-value="${idx+1}" onclick="selectRating(this)"></div>`).join('')}
      <span class="emoji">üòÑ</span>
    </div>
  `;
  form.appendChild(div);
});

// Build Text Questions
textQuestions.forEach((q, i) => {
  const div = document.createElement('div');
  div.className = 'mb-4 question';
  div.setAttribute('data-type','text');
  div.setAttribute('data-index', i);

  div.innerHTML = `
    <label class="form-label fw-semibold d-flex align-items-center">
      <span class="question-text flex-grow-1">${q}</span>
      <button type="button" class="voice-btn" onclick="speakQuestion(this)">
        <i class="fa-solid fa-volume-high"></i>
      </button>
      <i class="fa-solid fa-check checkmark"></i>
    </label>
    <input type="text" class="form-control" oninput="markTextAnswered(this)">
  `;
  form.appendChild(div);
});

// ------------------------------------------
// Rating Selection Logic
// ------------------------------------------
function selectRating(el) {
  const parent = el.parentElement;
  parent.querySelectorAll('.rating-box').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  parent.closest('.question').querySelector('.checkmark').style.display = 'inline';
  updateProgress();
}

// ------------------------------------------
// Text question progress logic
// ------------------------------------------
function markTextAnswered(input) {
  const check = input.closest('.question').querySelector('.checkmark');
  check.style.display = input.value.trim() ? 'inline' : 'none';
  updateProgress();
}

// ------------------------------------------
// Progress Bar Logic
// ------------------------------------------
function updateProgress() {
  const total = document.querySelectorAll('.question').length;
  const completed = Array.from(document.querySelectorAll('.checkmark')).filter(c => c.style.display === 'inline').length;
  const percent = Math.min((completed / total) * 100, 100);
  document.getElementById('progressBar').style.width = percent + '%';
}

// ------------------------------------------
// Multilingual TTS Voice Loading
// ------------------------------------------
let voices = [];

function loadVoices() {
  voices = speechSynthesis.getVoices();
}

speechSynthesis.onvoiceschanged = loadVoices;

// ------------------------------------------
// Speak Function (Auto-select correct voice)
// ------------------------------------------
function speakQuestion(btn) {
  const text = btn.closest('.question').querySelector('.question-text').textContent;
  const lang = document.getElementById('language').value;

  const utter = new SpeechSynthesisUtterance(text);

  // Language code
  utter.lang = lang === "si" ? "si-LK" : lang === "ta" ? "ta-IN" : "en-US";

  // Auto-select matching browser voice
  let selectedVoice = null;

  if (lang === "si") {
    selectedVoice = voices.find(v => v.lang.includes("si"));
  } else if (lang === "ta") {
    selectedVoice = voices.find(v => v.lang.includes("ta"));
  } else {
    selectedVoice = voices.find(v => v.lang.includes("en-US"));
  }

  if (selectedVoice) {
    utter.voice = selectedVoice;
  }

  utter.rate = 1;
  speechSynthesis.speak(utter);
}

// ------------------------------------------
// Language Switch Handler
// ------------------------------------------
document.getElementById('language').addEventListener('change', function() {
  const lang = this.value;

  document.querySelectorAll('.question').forEach(q => {
    const type = q.getAttribute('data-type');
    const index = Number(q.getAttribute('data-index'));
    const textEl = q.querySelector('.question-text');

    if (type === "rating") {
      if (lang === "en") textEl.textContent = ratingQuestions[index];
      else if (lang === "si") textEl.textContent = si_rating[index];
      else textEl.textContent = ta_rating[index];
    }

    if (type === "text") {
      if (lang === "en") textEl.textContent = textQuestions[index];
      else if (lang === "si") textEl.textContent = si_text[index];
      else textEl.textContent = ta_text[index];
    }
  });
});
</script>

</body>
</html>
